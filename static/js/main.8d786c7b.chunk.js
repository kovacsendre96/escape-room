(this["webpackJsonpescape-room"]=this["webpackJsonpescape-room"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),r=a.n(c),s=a(20),i=a(171),l=a(174),d={monday:"H\xe9tf\u0151",tuesday:"Kedd",wednesday:"Szerda",thursday:"Cs\xfctr\xf6t\xf6k",friday:"P\xe9ntek",saturday:"Szombat",sunday:"Vas\xe1rnap",week:"H\xe9t",mainPage:"F\u0151oldal",rooms:"Szob\xe1k",booking:"Foglal\xe1s",contact:"Kapcsolat",fogsagban:"Fogs\xe1gban","szoba-2":"Szoba 2","szoba-3":"Szoba 3",name:"Teljes n\xe9v",email:"Email c\xedm",phone:"Telefonsz\xe1m",message:"Megjegyz\xe9s",groupNumber:"L\xe9tsz\xe1m",nameIsRequired:"N\xe9v kit\xf6lt\xe9se k\xf6telez\u0151",invalidEmail:"Hib\xe1s e-mail",invalidPhone:"Hib\xe1s telefonsz\xe1m",numberOfGroupIsRequired:"L\xe9tsz\xe1m megad\xe1sa k\xf6telez\u0151"},b=a(2),j=Object(i.a)({navWrapper:{background:"black",color:"white",height:60,padding:0,margin:0},linkItem:{cursor:"pointer",color:"white",textDecoration:"none"}}),u=function(){var e=j();return Object(b.jsxs)(l.a,{className:e.navWrapper,container:!0,justifyContent:"space-around",alignItems:"center",children:[Object(b.jsx)(l.a,{item:!0,children:Object(b.jsx)(s.b,{className:e.linkItem,to:"escape-room/",children:d.mainPage})}),Object(b.jsx)(l.a,{item:!0,children:Object(b.jsx)(s.b,{className:e.linkItem,to:"escape-room/szobak",children:d.rooms})}),Object(b.jsxs)(l.a,{item:!0,children:[" ",Object(b.jsxs)(s.b,{className:e.linkItem,to:"escape-room/foglalas",children:[" ",d.booking," "]})," "]}),Object(b.jsxs)(l.a,{item:!0,children:[" ",Object(b.jsxs)(s.b,{className:e.linkItem,to:"escape-room/kapcsolat",children:[" ",d.contact," "]})," "]})]})},m=a(12),O=a(13),p=a(82),h=a.n(p).a.create({baseURL:"https://booking-database-aa483-default-rtdb.europe-west1.firebasedatabase.app/"}),x=a(182),f=a(185),g=a(179),v=a(181),k=a(183),y=a(180),N=a(184),w=a(186),z=a(178),I=a(134),C=a(21),S=a(176),B=a(133),T=a(177),M=a(139),L=a(187),D=a(132),E=a(136),W=Object,F=a(83),P=a.n(F),R=a(124),q=R.LocalDate,A="name",H="email",_="phone",G="group_number",U=Object(i.a)((function(e){return{form:{display:"flex",flexDirection:"column",width:500},input:{margin:5},formControl:{margin:e.spacing(1),minWidth:120},selectLabel:{paddingLeft:10},message:{"& .MuiInputBase-formControl":{height:150,display:"flex",alignItems:"flex-start"}},button:{"& > *":{margin:e.spacing(1)}}}})),Z=function(e){var t=e.handleClose,a=e.roomCapacity,o=U(),c=Object(n.useContext)(oe),r=Object(n.useState)(""),s=Object(m.a)(r,2),i=s[0],l=s[1],j=Object(n.useState)({name:"",email:"",phone:"",group_number:""}),u=Object(m.a)(j,2),p=u[0],x=u[1],f=Object(n.useState)(null),g=Object(m.a)(f,2),v=g[0],k=g[1],y=Object(n.useState)(null),N=Object(m.a)(y,2),w=N[0],z=N[1],I=Object(n.useState)(null),F=Object(m.a)(I,2),P=F[0],R=F[1],q=Object(n.useState)(null),Z=Object(m.a)(q,2),K=Z[0],Y=Z[1],J=function(e,t,a){var n=e.target.value;if(a(n),x(t===A&&""===n?Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,d.nameIsRequired)):Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,""))),t===H){n.match(/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/)?x(Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,""))):x(Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,d.invalidEmail)))}if(t===_){n.match(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im)?x(Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,""))):x(Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,d.invalidPhone)))}t===G&&x(""===n?Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,d.numberOfGroupIsRequired)):Object(O.a)(Object(O.a)({},p),{},Object(C.a)({},t,"")))},V=function(){return""!==p.name||""!==p.email||""!==p.phone||""!==p.group_number};return Object(b.jsxs)("form",{autoComplete:"off",className:o.form,onSubmit:function(e){V()||(e.preventDefault(),function(e){var t=e.id,a=e.roomId,n=e.weekNumber,o=e.dayNumber,c=e.timeNumber,r=e.time,s=e.reserved,i=e.setIsSentBook,l=e.isSentBook;h.put("/users/".concat(t,"/rooms/").concat(a,"/weeks/").concat(n,"/days/").concat(o,"/times/").concat(c,".json"),{time:r,reserved:s}).then((function(e){200===e.status&&i(!l)}))}({id:c.id,roomId:c.roomId,weekNumber:c.weekNumber,dayNumber:W.clickedDay,timeNumber:W.clickedTime,time:W.time,reserved:!0,setIsSentBook:c.setIsSentBook,isSentBook:c.isSentBook}),function(e){var t=e.name,a=e.phone,n=e.email,o=e.message,c=e.groupNumber,r=e.date,s=e.time,i=e.room,l=e.id;h.post("/users/".concat(l,"/reservations/.json"),{"N\xe9v":t,"Telefonsz\xe1m":a,Email:n,"Megjegyz\xe9s":o,"L\xe9tsz\xe1m:":c,"D\xe1tum":r,"\xd3ra":s,Szoba:i}).then((function(e){}))}({name:v,email:w,phone:P,message:K,groupNumber:i,date:W.date,time:W.time,room:W.roomId,id:c.id}),t())},children:[Object(b.jsx)(S.a,{id:"name",label:d.name,type:"text",variant:"outlined",className:o.input,helperText:null===p||void 0===p?void 0:p.name,required:!0,inputProps:{maxLength:255},error:Boolean(null===p||void 0===p?void 0:p.name),onBlur:function(e){return J(e,A,k)},onChange:function(e){return J(e,A,k)}},"name"),Object(b.jsx)(S.a,{id:"email",label:d.email,type:"email",variant:"outlined",className:o.input,autoComplete:"new-email",required:!0,error:""!==(null===p||void 0===p?void 0:p.email),helperText:null===p||void 0===p?void 0:p.email,onBlur:function(e){return J(e,H,z)},onChange:function(e){return J(e,H,k)}},"email"),Object(b.jsx)(S.a,{id:"phone",label:d.phone,type:"number",variant:"outlined",className:o.input,autoComplete:"new-phone",required:!0,error:""!==(null===p||void 0===p?void 0:p.phone),helperText:null===p||void 0===p?void 0:p.phone,onBlur:function(e){return J(e,_,R)},onChange:function(e){return J(e,_,k)}},"phone"),Object(b.jsxs)(D.a,{required:!0,variant:"outlined",className:o.formControl,error:""!==(null===p||void 0===p?void 0:p.group_number),children:[Object(b.jsx)(M.a,{id:"group-number",children:d.groupNumber},"group-number"),Object(b.jsx)(E.a,{labelId:"group-number",label:d.groupNumber,id:"group-number-select",value:i,onChange:function(e){l(e.target.value)},onBlur:function(e){return J(e,G,l)},children:function(){for(var e=[],t=1;t<a+1;t++)e.push(Object(b.jsx)(L.a,{value:t,children:t},t));return e}()},"group-number-select"),Object(b.jsxs)(B.a,{children:[null===p||void 0===p?void 0:p.group_number," "]})]},"form-control"),Object(b.jsx)(D.a,{fullWidth:!0,variant:"outlined",className:o.input,children:Object(b.jsx)(S.a,{id:"message",label:d.message,type:"text",variant:"outlined",className:"".concat(o.input," ").concat(o.message),autoComplete:"new-message",onChange:function(e){return Y(e.target.value)},multiline:!0,rows:5},"message")}),Object(b.jsx)(T.a,{disabled:V(),type:"submit",variant:"contained",color:"primary",className:"".concat(o.button," ").concat(o.input),children:d.booking},"button")]})},K=Object(i.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Y=function(e){var t=e.openModal,a=e.setOpenModal,n=e.roomCapacity,o=K(),c=function(){a(!1)};return Object(b.jsx)(w.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:t,onClose:c,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(b.jsx)(I.a,{in:t,children:Object(b.jsxs)("div",{className:o.paper,children:[Object(b.jsx)(l.a,{container:!0,justifyContent:"center",alignItems:"center",children:W.date}),Object(b.jsx)(Z,{handleClose:c,roomCapacity:n})]})})})},J=Object(i.a)({tableCell:{border:"2px solid white",padding:20},reserved:{cursor:"not-allowed",background:"red"},free:{cursor:"pointer",background:"#90EE90"}}),V=function(e){var t=e.response,a=e.index,n=e.setOpenModal,o=e.rowIndex,c=e.roomId,r=J(),s=function(e,t){function a(e){var t=e;return t<10&&(t="0".concat(t)),t}var n=new Date,o="".concat(n.getFullYear(),"-").concat(a(n.getMonth()+1),"-").concat(a(n.getDate()));function c(e,t){var a=new q.parse(e),n=new q.parse(t);return R.ChronoUnit.DAYS.between(a,n)}return c(o,t)<0||0===c(o,t)&&parseInt(e)<=n.getHours()}(t.dayTimes[a].time,t.date);return Object(b.jsx)(g.a,{onClick:function(){t.dayTimes[a].reserved||s||(n(!0),W.clickedDay=o,W.clickedTime=a,W.time=t.dayTimes[a].time,W.date=t.date,W.roomId=c)},className:"".concat(r.tableCell," ").concat(t.dayTimes[a].reserved||s?r.reserved:r.free),children:t.dayTimes[a].time},"table-body-cell-".concat(t.date))},$=Object(i.a)({table:{maxWidth:700}}),Q=function(e){var t=e.response,a=e.roomId,o=e.roomCapacity,c=Object(n.useState)(!1),r=Object(m.a)(c,2),s=r[0],i=r[1],j=$(),u=[],O=[d.monday,d.tuesday,d.wednesday,d.thursday,d.friday,d.saturday,d.sunday];var p=t.days.map((function(e){return t=e.date,a=e.day_name,n=e.times.map((function(e){return e})),{date:t,dayName:a,dayTimes:n};var t,a,n})),h=function(e){return Object(b.jsx)(y.a,{className:j.tableRow,children:p.map((function(t,n){return Object(b.jsx)(V,{response:t,index:e,setOpenModal:i,rowIndex:n,roomId:a},n)}))},e)};return function(){for(var e=0;e<6;e++)u.push(h(e))}(),Object(n.useEffect)((function(){}),[t]),Object(b.jsx)(v.a,{children:Object(b.jsxs)(x.a,{className:j.table,"aria-label":"simple table",children:[Object(b.jsx)(Y,{openModal:s,setOpenModal:i,response:t,roomCapacity:o}),Object(b.jsx)(k.a,{children:Object(b.jsx)(y.a,{children:O.map((function(e,a){return Object(b.jsxs)(g.a,{children:[Object(b.jsx)(l.a,{children:e},"table-head-cell".concat(a)),Object(b.jsx)(N.a,{variant:"caption",children:t.days[a].date},"table-head-date".concat(a))]},"table-head-".concat(a))}))})}),Object(b.jsx)(f.a,{children:u.map((function(e){return e}))})]})})},X=a(85),ee=a.n(X),te=a(84),ae=a.n(te),ne=a(7),oe=Object(n.createContext)(),ce=Object(i.a)({weekWrapper:{width:"auto",padding:20},ArrowIcon:{cursor:"pointer",padding:10,fontSize:50}}),re=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),r=Object(m.a)(c,2),s=r[0],i=r[1],j=Object(n.useState)(null),u=Object(m.a)(j,2),p=u[0],x=u[1],f=Object(n.useState)(!1),g=Object(m.a)(f,2),v=g[0],k=g[1],y=P()()-1,w=Object(n.useState)(null),z=Object(m.a)(w,2),I=z[0],C=z[1],S=ce(),B=Object(ne.g)().room_name,T="-MoUTkg1gdkGpPFivBxy",M=Object(n.useState)(),L=Object(m.a)(M,2),D=L[0],E=L[1];Object(n.useEffect)((function(){C(y),x(function(e){var t;switch(e){case"fogsagban":t="-Mp1W6hGMvV79dDM-K8U";break;case"szoba-2":t="-Mp1WBHtwPG0NRkGTONd";break;case"szoba-3":t="-Mp1WF1YL7dOnZUkm24h";break;default:t=""}return t}(B))}),[]),Object(n.useEffect)((function(){null!==I&&function(e){var t=e.id,a=e.setResponse,n=e.setLoading,o=e.roomId,c=e.weekNumber,r=[];h.get("/users/".concat(t,"/rooms/").concat(o,"/weeks/").concat(c,".json")).then((function(e){for(var t in e.data)r.unshift(Object(O.a)(Object(O.a)({},e.data[t]),{},{id:t}));a(e.data),n(!1)}))}({id:T,setResponse:o,setLoading:i,roomId:p,weekNumber:I})}),[I,v]),Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.setState,n=e.roomId;h.get("/users/".concat(t,"/rooms/").concat(n,"/capacity.json")).then((function(e){a(e.data)}))}({id:T,setState:E,roomId:p})}),[s]);var W;return s?Object(b.jsx)("h1",{children:"Loading..."}):Object(b.jsxs)(l.a,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",children:[Object(b.jsx)(N.a,{variant:"h4",children:(W=B,d[W])}),Object(b.jsxs)(l.a,{container:!0,alignItems:"center",className:S.weekWrapper,children:[Object(b.jsx)(ae.a,{id:"arrowLeft",className:S.ArrowIcon,onClick:function(){var e=I-1;e>=y&&C(e)}}),Object(b.jsxs)(N.a,{variant:"h4",children:[a.week,". ",d.week]}),Object(b.jsx)(ee.a,{id:"arrowRight",className:S.ArrowIcon,onClick:function(){var e=I+1;e<=51&&C(e)}})]}),Object(b.jsx)(oe.Provider,{value:{id:T,roomId:p,weekNumber:I,isSentBook:v,setIsSentBook:k},children:Object(b.jsx)(l.a,{children:Object(b.jsx)(Q,{response:a,roomId:p,weekNumber:I,roomCapacity:D})})})]})},se=function(e){return Object(b.jsx)("div",{id:"about",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-xs-12 col-md-6",children:[" ",Object(b.jsx)("img",{src:"img/about.jpg",className:"img-responsive",alt:""})," "]}),Object(b.jsx)("div",{className:"col-xs-12 col-md-6",children:Object(b.jsxs)("div",{className:"about-text",children:[Object(b.jsx)("h2",{children:"Szabadul\xf3 szob\xe1r\xf3l"}),Object(b.jsx)("h3",{children:"Why Choose Us?"})]})})]})})})},ie=function(e){return Object(b.jsx)("div",{id:"features",className:"text-center",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("p",{children:"Old meg te is csapatoddal Szentes leg\xfajabb szabadul\xf3 szob\xe1inak rejt\xe9lyeit. Z\xf6kkenj ki a h\xe9tk\xf6znapokb\xf3l, \xe9s add \xe1t magad szob\xe1ink vil\xe1g\xe1nak. Gyertek el csapatban, p\xe1rban \xe9s n\xe9zzetek szembe a kih\xedv\xe1sokkal."}),Object(b.jsx)("p",{children:" Ha egy j\xf3 \xf6sszeszokott t\xe1rsas\xe1g vagytok, akik a fej\xfcket \xf6sszedugva minden feladatot meg tud oldani, akkor ezt nektek aj\xe1nljuk."}),Object(b.jsx)("p",{children:"Ha pedig az a c\xe9l, hogy jobban \xf6sszekov\xe1csol\xf3djatok, a CodeLabor remek alkalmat biztos\xedt erre."}),Object(b.jsx)("p",{children:"N\xe9zd meg a szob\xe1inkat, \xe9s foglalj szabad id\u0151pontjainkb\xf3l!"})]})})},le=Object(i.a)((function(e){return{}})),de=function(){le();return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(ie,{}),Object(b.jsx)(se,{})]})},be=function(){return Object(b.jsx)("h1",{children:"NotFound"})},je=function(){return Object(b.jsxs)(l.a,{container:!0,direction:"column",children:[Object(b.jsx)(l.a,{children:Object(b.jsx)(s.b,{to:"/escape-room/szobak/fogsagban",children:"SZOBA 1"})}),Object(b.jsx)(l.a,{children:Object(b.jsx)(s.b,{to:"/escape-room/szobak/szoba-2",children:"SZOBA 2"})}),Object(b.jsx)(l.a,{children:Object(b.jsx)(s.b,{to:"/escape-room/szobak/szoba-3",children:"SZOBA 3"})})]})},ue=function(){return Object(b.jsx)("header",{id:"header",children:Object(b.jsx)("div",{className:"intro",children:Object(b.jsx)("div",{className:"overlay",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-md-8 col-md-offset-2 intro-text",children:[Object(b.jsxs)("h1",{children:["Code",Object(b.jsx)("span",{children:"Labor"})]}),Object(b.jsx)("p",{children:"Kiszabad\xedtunk az unalomb\xf3l"}),Object(b.jsx)("a",{href:"#features",className:"btn btn-custom btn-lg page-scroll",children:"Foglal\xe1s"})]})})})})})})};a(126),a(127);var me=function(){return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(u,{}),Object(b.jsx)(ue,{}),Object(b.jsxs)(ne.c,{children:[Object(b.jsx)(ne.a,{path:"/escape-room/",element:Object(b.jsx)(de,{})}),Object(b.jsx)(ne.a,{path:"/escape-room/szobak",element:Object(b.jsx)(je,{})}),Object(b.jsx)(ne.a,{path:"/escape-room/szobak/:room_name",element:Object(b.jsx)(re,{})}),Object(b.jsx)(ne.a,{element:be})]})]})};r.a.render(Object(b.jsx)(s.a,{children:Object(b.jsx)(me,{})}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.8d786c7b.chunk.js.map